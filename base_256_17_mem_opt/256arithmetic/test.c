#include "../../_common_libs/radix17.h"
#include "bignum.h"

void test(){
    radix17_t a = {93848, 98738, 33478, 93614, 28872, 94227, 67689, 56183, 5696, 49829, 67138, 101447, 15544, 71231, 30135};
    radix17_t b = {93378, 87592, 99224, 129887, 91690, 114010, 62066, 58051, 58184, 38652, 92295, 55055, 40636, 33242, 25333};
    
    radix17_t res_a = {56154, 55259, 1631, 92430, 120563, 77165, 129756, 114234, 63880, 88481, 28361, 25431, 56181, 104473, 55468};
    radix17_t res_s = {470, 11146, 65326, 94798, 68253, 111288, 5622, 129204, 78583, 11176, 105915, 46391, 105980, 37988, 4802};
    radix17_t res_m = {15444, 107877, 102751, 41041, 78630, 125767, 116504, 3903, 61671, 38547, 109296, 123445, 79710, 54756, 120986};
    radix17_t res_d = {122199, 16319, 38675, 84396, 22535, 46458, 65972, 92663, 84285, 119002, 123765, 89652, 70501, 110994, 53028};
    radix17_t res_i = {74578, 47944, 46177, 120778, 24311, 102199, 92456, 69701, 85441, 78250, 100548, 6090, 100362, 101960, 9513};
    radix17_t res_sq = {74901, 3972, 81019, 112246, 67178, 78665, 127341, 67663, 63403, 41862, 87376, 130945, 47594, 395, 53540};
    
    radix17_t ra,rs,rm,rd,ri,rsq;
    set_ui_256(&ra, 0);
    set_ui_256(&rs, 0);
    set_ui_256(&rm, 0);
    set_ui_256(&rd, 0);
    set_ui_256(&ri, 0);
    set_ui_256(&rsq, 0);

    add_256(&ra, &a, &b);
    sub_256(&rs, &a, &b);
    mul_256(&rm, &a, &b);
    div_256(&rd, &a, &b);
    inverse_256(&ri, &a);
    square_256(&rsq, &a);

    if(cmp_coord_256(&ra,&res_a)){
        printf("Add passed\n");
    }
    if(cmp_coord_256(&rs,&res_s)){
        printf("Sub passed\n");
    }
    if(cmp_coord_256(&rm,&res_m)){
        printf("Mul passed\n");
    }

    if(cmp_coord_256(&rsq, &res_sq)){
        printf("Square passed\n");
    }

    if(cmp_coord_256(&rd, &res_d)){
        printf("Div passed\n");
    }

     if(cmp_coord_256(&ri, &res_i)){
        printf("Inv passed\n");
    }
}